<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">
 <h:panelGroup id="todos">
  <p:outputPanel id="todoPanel" autoUpdate="true">
   Pocet todo: #{app.todosCount}
   <p:dataList id="todoList" value="#{app.todos}" var="todo" styleClass="todo-list" >
    <h:panelGroup id="todo" layout="block" styleClass="#{todo.completed ? 'completed' : ''}">
     <h:selectBooleanCheckbox value="#{todo.completed}" styleClass="toggle" >
      <p:ajax listener="#{app.saveNew(todo)}" update="todo"/>
     </h:selectBooleanCheckbox>
     <p:inplace editor="true" styleClass="label" event="click">
      <p:inputText value="#{todo.title}">
      </p:inputText>
      <p:ajax event="save" listener="#{app.saveNew(todo)}"/>
     </p:inplace>
    </h:panelGroup>
   </p:dataList>
  </p:outputPanel>
  <ui:insert name="editTodos">
   <p:commandButton action="editTodos"/>
  </ui:insert>
 </h:panelGroup>
</ui:composition>

